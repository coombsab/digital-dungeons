import{_ as y,n as C,e as x,w,k as b,P as _,q as c,A as l,s as I,v as S,r as k,o as i,c as r,d as a,g as u,F as h,h as v,i as f,x as M,y as m,z as p,t as A,p as N,m as P}from"./index.3dca563f.js";const V={setup(){let o=C({});x(()=>{s()}),w(()=>{s()});async function s(){try{await b.getCampaigns()}catch(d){_.error(d,"[getCampaigns]")}}return{editable:o,user:c(()=>l.user),campaigns:c(()=>l.campaigns.filter(d=>d.creatorId!=l.account.id)),userCampaigns:c(()=>l.campaigns.filter(d=>d.creatorId==l.account.id)),async addCampaign(){if(!l.account.id)return I.loginWithPopup();try{await b.addCampaign(o.value),o.value={}}catch{_.error([addCampaign])}}}},components:{CampaignCard:S}},n=o=>(N("data-v-d67db5b4"),o=o(),P(),o),B={class:"campaigns-wrapper"},D={class:"campaigns-page text-visible py-4"},q={key:0,class:"btn text-visible create-button elevation-2",type:"button","data-bs-toggle":"modal","data-bs-target":"#campaignModal"},L={key:1,class:"border-bottom border-3 border-color my-3 mb-4 ps-2"},U=n(()=>a("h3",null,"My Campaigns",-1)),j=[U],z={class:"d-flex flex-wrap justify-content-around"},E=n(()=>a("div",{class:"border-bottom border-3 border-color my-3 ps-2"},[a("h3",null,"All Campaigns")],-1)),F={class:"d-flex flex-wrap justify-content-around"},T={class:"modal fade",id:"campaignModal",tabindex:"-1","aria-labelledby":"campaignModalLabel","aria-hidden":"true"},W={class:"modal-dialog modal-lg"},Y={class:"modal-content bg-body"},G=n(()=>a("div",{class:"modal-header"},[a("h5",{class:"modal-title text-white",id:"campaignModalLabel"},"New Campaign"),a("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),H={class:"modal-body"},J={class:"card-body text-start text-white"},K={class:"form-floating mb-3"},O=n(()=>a("label",{for:"name"},"Name:",-1)),Q={class:"form-floating mb-3"},R=n(()=>a("label",{for:"coverImg"},"Cover Image:",-1)),X={class:"form-floating"},Z=n(()=>a("label",{for:"description"},"Description:",-1)),$={class:"text-end"},aa=n(()=>a("span",null,"/ 1000",-1)),ea=n(()=>a("div",{class:"modal-footer"},[a("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close "),a("button",{type:"submit",class:"btn btn-primary","data-bs-dismiss":"modal"}," Start Your Adventure! ")],-1));function ta(o,s,d,e,sa,oa){const g=k("CampaignCard");return i(),r("section",B,[a("div",D,[e.user.isAuthenticated?(i(),r("button",q," Create Campaign ")):u("",!0),e.userCampaigns.length>0?(i(),r("div",L,j)):u("",!0),a("div",z,[(i(!0),r(h,null,v(e.userCampaigns,t=>(i(),f(g,{key:t.id,campaign:t},null,8,["campaign"]))),128))]),E,a("div",F,[(i(!0),r(h,null,v(e.campaigns,t=>(i(),f(g,{key:t.id,campaign:t},null,8,["campaign"]))),128))])]),a("div",T,[a("div",W,[a("div",Y,[G,a("div",H,[a("form",{action:"submit",class:"",onSubmit:s[3]||(s[3]=M(t=>e.addCampaign(),["prevent"]))},[a("div",J,[a("div",K,[m(a("input",{type:"text",class:"form-control text-white bg-primary","onUpdate:modelValue":s[0]||(s[0]=t=>e.editable.name=t),required:"",name:"name",placeholder:"Name:",maxlength:"50"},null,512),[[p,e.editable.name]]),O]),a("div",Q,[m(a("input",{type:"url",class:"form-control text-white bg-primary","onUpdate:modelValue":s[1]||(s[1]=t=>e.editable.coverImg=t),required:"",name:"coverImg",placeholder:"coverImg",maxlength:"10000"},null,512),[[p,e.editable.coverImg]]),R]),a("div",X,[m(a("textarea",{class:"form-control textarea-height text-white bg-primary","onUpdate:modelValue":s[2]||(s[2]=t=>e.editable.desc=t),name:"description",style:{resize:"none"},placeholder:"Description:",maxlength:"500"},null,512),[[p,e.editable.desc]]),Z]),a("div",$,[a("span",null,A(e.editable.desc?e.editable.desc.length:0),1),aa])]),ea],32)])])])])])}const ia=y(V,[["render",ta],["__scopeId","data-v-d67db5b4"]]);export{ia as default};
