import{_ as f,u as k,e as I,b as s,C as x,E as M,f as B,r as i,o as n,c,d as e,g as r,t as l,F as p,h,i as b,j as v,k as w,P as y,l as S,A as d,p as D,m as P}from"./index.3dca563f.js";const N={setup(){const o=k();async function g(){try{await w.getCampaignById(o.params.campaignId)}catch(t){y.error(t)}}async function _(){try{await S.getEncountersByCampaignId(o.params.campaignId)}catch(t){y.error(t)}}return I(()=>{g(),_()}),{campaign:s(()=>d.activeCampaign),account:s(()=>d.account),completedEncounters:s(()=>d.encounters.filter(t=>t.isCompleted)),uncompletedEncounters:s(()=>d.encounters.filter(t=>!t.isCompleted))}},components:{CreateEncounterModal:x,EncounterCard:M,EditCampaignDetailsModal:B}},V=o=>(D("data-v-b5c69ef6"),o=o(),P(),o),j={class:"p-3"},A={key:0,class:"h00 elevated rounded"},F={class:"text-light h00 glass"},L={class:"row justify-content-between align-content-center"},R={class:"col-md-2 text-center d-flex align-items-center"},q=["data-bs-target"],z={class:"col-5 bg-dark p-2 text-center"},G={class:"bg-secondary text-white rounded"},H={class:"morphfont"},J={class:"col-3 bg-dark p-2 pt-3"},K={class:"bg-secondary p-1 rounded"},O={class:"col-2 pt-2 rounded"},Q={key:0,class:"btn btn-danger",type:"button","data-bs-toggle":"modal","data-bs-target":"#CreateEncounterModal"},T={class:"row"},U={class:"col-6 ps-5"},W=["src"],X={class:"bg-dark p-2 rounded"},Y={class:"bg-secondary p-1 rounded"},Z={class:"col-6"},$={class:"bg-dark p-2"},tt={class:"bg-secondary p-1"},et={key:0,class:"border-bottom border-3 border-danger text-danger"},at=V(()=>e("h4",{class:"border-bottom border-3 border-danger text-danger"}," Encounters ",-1));function nt(o,g,_,t,ot,ct){var u;const m=i("EncounterCard"),C=i("CreateEncounterModal"),E=i("EditCampaignDetailsModal");return n(),c(p,null,[e("div",j,[t.campaign?(n(),c("div",A,[e("div",F,[e("section",L,[e("div",R,[t.campaign.creatorId==t.account.id?(n(),c("button",{key:0,class:"btn btn-primary-outline text-visible","data-bs-toggle":"modal","data-bs-target":"#campaignModalEdit"+((u=t.campaign)==null?void 0:u.id)}," Edit Campaign ",8,q)):r("",!0)]),e("div",z,[e("div",G,[e("h2",H,l(t.campaign.name),1)])]),e("div",J,[e("div",K,l(t.campaign.creator.name),1)]),e("div",O,[t.campaign.creatorId==t.account.id?(n(),c("button",Q," Create Encounter ")):r("",!0)])]),e("section",T,[e("div",U,[e("img",{src:t.campaign.coverImg,alt:"",class:"img-fluid campaignImg rounded ps-3 py-4"},null,8,W),e("div",X,[e("div",Y,[e("p",null,l(t.campaign.desc),1)])])]),e("div",Z,[e("div",$,[e("div",tt,[t.completedEncounters.length>0?(n(),c("h4",et," Completed Encounters ")):r("",!0),(n(!0),c(p,null,h(t.completedEncounters,a=>(n(),b(m,{encounter:a,key:a==null?void 0:a.id,campaign:t.campaign},null,8,["encounter","campaign"]))),128)),at,(n(!0),c(p,null,h(t.uncompletedEncounters,a=>(n(),b(m,{encounter:a,key:a==null?void 0:a.id,campaign:t.campaign},null,8,["encounter","campaign"]))),128))])])])])])])):r("",!0)]),v(C),v(E,{campaign:t.campaign},null,8,["campaign"])],64)}const rt=f(N,[["render",nt],["__scopeId","data-v-b5c69ef6"]]);export{rt as default};
